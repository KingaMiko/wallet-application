"use strict";(self.webpackChunkwallet_application=self.webpackChunkwallet_application||[]).push([[46],{87384:function(e,n,a){a.d(n,{y:function(){return c}});var t="Balance_balance__tUx3D",r="Balance_title__aUwwk",o="Balance_amount__t4xet",s=a(80184),c=function(){return(0,s.jsxs)("div",{className:t,children:[(0,s.jsx)("p",{className:r,children:"YOUR BALANCE"}),(0,s.jsx)("p",{className:o,children:"PLN 0.00"})]})}},20820:function(e,n,a){a.d(n,{w:function(){return u}});var t=a(15861),r=a(29439),o=a(64687),s=a.n(o),c=a(72791),i=a(55294),l={tableBg:"CurrencyTable_tableBg__nplZ5",currencyTable:"CurrencyTable_currencyTable__1iH+4",currencyTableHead:"CurrencyTable_currencyTableHead__0L-k0"},d=a(80184),u=function(){var e=(0,c.useState)([]),n=(0,r.Z)(e,2),a=n[0],o=n[1];return(0,c.useEffect)((function(){var e=function(){var e=(0,t.Z)(s().mark((function e(){var n,a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=localStorage.getItem("authToken")){e.next=5;break}return console.error("No auth token found"),e.abrupt("return");case 5:return e.next=7,i.Z.get("http://localhost:3000/api/currencies",{headers:{Authorization:"Bearer ".concat(n)}});case 7:a=e.sent,o(a.data.data.currencies),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error fetching currencies",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,d.jsx)("div",{className:l.tableBg,children:(0,d.jsxs)("table",{className:l.currencyTable,children:[(0,d.jsx)("thead",{className:l.currencyTableHead,children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"Currency"}),(0,d.jsx)("th",{children:"Purchase"}),(0,d.jsx)("th",{children:"Sell"})]})}),(0,d.jsx)("tbody",{className:l.currencyTableBody,children:a.map((function(e){return(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:e.code}),(0,d.jsx)("td",{children:e.bid}),(0,d.jsx)("td",{children:e.ask})]},e._id)}))})]})})}},52959:function(e,n,a){a.d(n,{Z:function(){return u}});a(72791);var t=a(57689),r=a(11087),o="ActiveNavLink_link__Srke3",s="ActiveNavLink_active__uzCgI",c=a(80184),i=function(e){var n=e.to,a=e.children,i=(0,t.WU)(n),l=(0,t.bS)({path:i.pathname,end:!0})?s:o;return(0,c.jsx)(r.OL,{to:n,className:l,children:a})},l={icon:"Navigation_icon__lPT0N"},d=a(13439),u=function(){return(0,c.jsx)("nav",{children:(0,c.jsxs)("ul",{className:l.navigation,children:[(0,c.jsx)("li",{children:(0,c.jsxs)(i,{to:"/home",children:[(0,c.jsx)("svg",{className:l.icon,width:"38px",height:"38px",children:(0,c.jsx)("use",{href:"".concat(d.Z,"#icon-home3")})}),"Home"]})}),(0,c.jsx)("li",{children:(0,c.jsxs)(i,{to:"/statistics",children:[(0,c.jsx)("svg",{className:l.icon,width:"38px",height:"38px",children:(0,c.jsx)("use",{href:"".concat(d.Z,"#icon-baseline-timeline")})}),"Statistics"]})})]})})}},48541:function(e,n,a){a.d(n,{Aq:function(){return b},xu:function(){return y},zx:function(){return _},II:function(){return I},U0:function(){return j},TR:function(){return P.T},GG:function(){return u}});var t=a(55705),r=a(8007),o=a(57689),s=a(59434),c=a(18071),i=a(47380),l="RegistrationForm_registration-form__tvXg0",d=a(80184),u=function(){var e,n,a,u,m=(0,s.I0)(),h=(0,o.s0)(),x=(0,s.v9)(i.up),p=null!==x&&void 0!==x&&null!==(e=x.namePattern)&&void 0!==e&&e.pattern?new RegExp(x.namePattern.pattern):null,f=null!==x&&void 0!==x&&null!==(n=x.passwordPattern)&&void 0!==n&&n.pattern?new RegExp(x.passwordPattern.pattern):null,j=r.Ry().shape({name:r.Z_().matches(p,(null===x||void 0===x||null===(a=x.namePattern)||void 0===a?void 0:a.description)||"Invalid name format").required("Name is required").min(3,"Name should be at least 3 characters").max(20,"Name should be at most 20 characters"),email:r.Z_().email("Invalid email").required("Email is required"),password:r.Z_().matches(f,(null===x||void 0===x||null===(u=x.passwordPattern)||void 0===u?void 0:u.description)||"Invalid password format").required("Password is required").min(6,"Password should be at least 6 characters").max(20,"Password should be at most 20 characters"),confirmPassword:r.Z_().oneOf([r.iH("password"),null],"Passwords must match").required("Confirm password is required")});return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(t.J9,{initialValues:{name:"",email:"",password:"",confirmPassword:""},validationSchema:j,onSubmit:function(e,n){n.setSubmitting;var a=n.resetForm;m((0,c.y1)({name:e.name,email:e.email,password:e.password})),a()},children:function(){return(0,d.jsxs)(t.l0,{className:l,autoComplete:"off",children:[(0,d.jsx)(I,{type:"text",name:"name",placeholder:"First name",iconID:"icon-baseline-account_box"}),(0,d.jsx)(I,{type:"email",name:"email",placeholder:"E-mail",iconID:"icon-baseline-email"}),(0,d.jsx)(I,{type:"password",name:"password",placeholder:"Password",autoComplete:"off",iconID:"icon-baseline-lock"}),(0,d.jsx)(I,{type:"password",name:"confirmPassword",placeholder:"Confirm password",autoComplete:"off",iconID:"icon-baseline-lock"}),(0,d.jsx)(_,{type:"submit",theme:"color",children:"Register"}),(0,d.jsx)(_,{type:"button",theme:"white",onClick:function(){return h("/login")},children:"Log in"})]})}})})},m={button:"Button_button__JBBzO","button-white":"Button_button-white__8-Y8O","button-color":"Button_button-color__qDUYL"},_=function(e){var n=e.children,a=e.type,t=void 0===a?"button":a,r=e.theme,o=e.className,s=e.onClick,c="color"===r?m["button-color"]:"white"===r?m["button-white"]:"";return(0,d.jsx)("button",{className:"".concat(m.Button," ").concat(c," ").concat(o),type:t,onClick:s,children:n})},h=a(15861),x=a(64687),p=a.n(x),f="LoginForm_login-form__o6Oo+",j=function(){var e,n,a=(0,s.I0)(),l=(0,o.s0)(),u=(0,s.v9)(i.up),m=null!==u&&void 0!==u&&null!==(e=u.passwordPattern)&&void 0!==e&&e.pattern?new RegExp(u.passwordPattern.pattern):null,x=r.Ry().shape({email:r.Z_().email("Invalid email").required("Email is required"),password:r.Z_().matches(m,(null===u||void 0===u||null===(n=u.passwordPattern)||void 0===n?void 0:n.description)||"Invalid password format").required("Password is required").min(6,"Password should be at least 6 characters").max(20,"Password should be at most 20 characters")}),j=function(){var e=(0,h.Z)(p().mark((function e(n,t){var r,o,s,i;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.setSubmitting,o=t.resetForm,e.prev=1,e.next=4,a((0,c.zB)({email:n.email,password:n.password})).unwrap();case 4:s=e.sent,i=s.token,localStorage.setItem("authToken",i),o(),l("/home"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error("B\u0142\u0105d logowania:",e.t0);case 14:return e.prev=14,r(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(n,a){return e.apply(this,arguments)}}();return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(t.J9,{initialValues:{email:"",password:""},validationSchema:x,onSubmit:j,children:function(){return(0,d.jsxs)(t.l0,{className:f,autoComplete:"off",children:[(0,d.jsx)(I,{type:"email",name:"email",placeholder:"E-mail",iconID:"icon-baseline-email"}),(0,d.jsx)(I,{type:"password",name:"password",placeholder:"Password",autoComplete:"off",iconID:"icon-baseline-lock"}),(0,d.jsx)(_,{type:"submit",theme:"color",children:"Log in"}),(0,d.jsx)(_,{type:"button",theme:"white",onClick:function(){return l("/register")},children:"Register"})]})}})})},v="Background_background__syS0M",b=function(){return(0,d.jsx)("div",{className:v})},g="Box_box__YJIlx",y=function(e){var n=e.children,a=e.className;return(0,d.jsx)("div",{className:"".concat(g," ").concat(a),children:n})},N=a(1413),w=a(29439),T=a(44925),k=a(13439),S="Input_box__8gunV",Z="Input_form-input__IGnal",A="Input_error-message__98oTL",C=["iconID"],I=function(e){var n=e.iconID,a=(0,T.Z)(e,C),r=(0,t.U$)(a),o=(0,w.Z)(r,2),s=o[0],c=o[1];return(0,d.jsxs)("div",{className:S,children:[(0,d.jsx)("input",(0,N.Z)((0,N.Z)({className:Z},s),a)),(0,d.jsx)("svg",{width:"20px",height:"20px",children:(0,d.jsx)("use",{href:"".concat(k.Z,"#").concat(n)})}),c.touched&&c.error?(0,d.jsx)("div",{className:A,children:c.error}):null]})},P=a(35222)},60725:function(e,n,a){a.r(n),a.d(n,{default:function(){return q}});var t=a(93433),r=a(15861),o=a(29439),s=a(64687),c=a.n(s),i=a(72791),l={tableBg:"Transactions_tableBg__72B4n",transactionsTable:"Transactions_transactionsTable__klztX",transactionsTableHead:"Transactions_transactionsTableHead__UmWQz",transactionsTablebody:"Transactions_transactionsTablebody__D0TIz",thName:"Transactions_thName__SoSPQ",iconSort:"Transactions_iconSort__jQ4-1",sumSection:"Transactions_sumSection__QP2mB",iconTransactions:"Transactions_iconTransactions__uSrmT",amountPlus:"Transactions_amountPlus__xCwMa",amountMinus:"Transactions_amountMinus__h36e+"},d=a(13439),u=a(55294),m=a(80184),_=function(){var e=(0,i.useState)([]),n=(0,o.Z)(e,2),a=n[0],s=n[1],_=(0,i.useState)({column:null,direction:"asc"}),h=(0,o.Z)(_,2),x=h[0],p=h[1];(0,i.useEffect)((function(){var e=function(){var e=(0,r.Z)(c().mark((function e(){var n,a,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=localStorage.getItem("authToken")){e.next=5;break}return console.error("No auth token found"),e.abrupt("return");case 5:return e.next=7,u.Z.get("http://localhost:3000/api/transactions",{headers:{Authorization:"Bearer ".concat(n)}});case 7:a=e.sent,t=a.data.data.map((function(e){return[e.date?new Date(e.date).toLocaleDateString():"",e.type||"",e.category?e.category.toString():"",e.comment||"",e.sum?e.sum.toString():""]})),s(t),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Error fetching transactions",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var f=function(e){var n=e===x.column&&"asc"===x.direction?"desc":"asc";console.log(a);var r=(0,t.Z)(a).sort((function(a,t){var r=4===e?parseFloat(a[e]):a[e],o=4===e?parseFloat(t[e]):t[e];return 0===e&&(r=new Date(r),o=new Date(o)),"asc"===n?r>o?1:-1:r<o?1:-1}));console.log(r),s(r),p({column:e,direction:n})},j=function(){var e=(0,r.Z)(c().mark((function e(n){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=localStorage.getItem("authToken")){e.next=5;break}return console.error("No auth token found"),e.abrupt("return");case 5:return e.next=7,u.Z.delete("http://localhost:3000/api/transactions",{headers:{Authorization:"Bearer ".concat(t)},data:{id:n}});case 7:200===e.sent.status?(r=a.filter((function(e){return e[5]!==n})),s(r)):console.error("Error deleting transaction"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error deleting transaction",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n){return e.apply(this,arguments)}}();return(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:l.tableBg,children:(0,m.jsxs)("table",{className:l.transactionsTable,children:[(0,m.jsx)("thead",{className:l.transactionsTableHead,children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{onClick:function(){return f(0)},title:"Sort",children:(0,m.jsxs)("div",{className:l.thName,children:[(0,m.jsx)("span",{children:"Date"}),(0,m.jsx)("svg",{className:l.iconSort,width:"20px",height:"20px",children:(0,m.jsx)("use",{href:"".concat(d.Z,"#icon-sort")})})]})}),(0,m.jsx)("th",{onClick:function(){return f(1)},title:"Sort",children:(0,m.jsxs)("div",{className:l.thName,children:[(0,m.jsx)("span",{children:"Type"}),(0,m.jsx)("svg",{className:l.iconSort,width:"20px",height:"20px",children:(0,m.jsx)("use",{href:"".concat(d.Z,"#icon-sort")})})]})}),(0,m.jsx)("th",{onClick:function(){return f(2)},title:"Sort",children:(0,m.jsxs)("div",{className:l.thName,children:[(0,m.jsx)("span",{children:"Category"}),(0,m.jsx)("svg",{className:l.iconSort,width:"20px",height:"20px",children:(0,m.jsx)("use",{href:"".concat(d.Z,"#icon-sort")})})]})}),(0,m.jsx)("th",{onClick:function(){return f(3)},title:"Sort",children:(0,m.jsxs)("div",{className:l.thName,children:[(0,m.jsx)("span",{children:"Comment"}),(0,m.jsx)("svg",{className:l.iconSort,width:"20px",height:"20px",children:(0,m.jsx)("use",{href:"".concat(d.Z,"#icon-sort")})})]})}),(0,m.jsx)("th",{onClick:function(){return f(4)},title:"Sort",children:(0,m.jsxs)("div",{className:l.thName,children:[(0,m.jsx)("span",{children:"Amount"}),(0,m.jsx)("svg",{className:l.iconSort,width:"20px",height:"20px",children:(0,m.jsx)("use",{href:"".concat(d.Z,"#icon-sort")})})]})}),(0,m.jsx)("th",{children:"Options"})]})}),(0,m.jsx)("tbody",{className:l.transactionsTableBody,children:a.map((function(e,n){return(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:e[0]}),(0,m.jsx)("td",{children:e[1]}),(0,m.jsx)("td",{children:e[2]}),(0,m.jsx)("td",{children:e[3]}),(0,m.jsx)("td",{className:(a=e[1],"Income"===a?l.amountPlus:"Expense"===a?l.amountMinus:""),children:e[4]}),(0,m.jsxs)("td",{children:[(0,m.jsx)("svg",{className:l.iconTransactions,width:"20px",height:"20px",children:(0,m.jsx)("use",{href:"".concat(d.Z,"#icon-pencil2")})}),(0,m.jsx)("svg",{className:l.iconTransactions,width:"20px",height:"20px",onClick:function(){return j(e._id)},children:(0,m.jsx)("use",{href:"".concat(d.Z,"#icon-bin")})})]})]},n);var a}))})]})}),(0,m.jsx)("div",{className:l.sumSection})]})},h="Home_background__w4mTu",x="Home_dashboard_container__E9ETc",p="Home_container__qRlyu",f="Home_sidebar__74EFX",j="Home_main__4+rG5",v=a(20820),b=a(87384),g=a(52959),y=a(8007),N=a(11799),w=a.n(N),T=a(9085),k=(a(81778),a(55705)),S=a(48541),Z={modal:"ModalAddTransaction_modal__EJwZ+",modal__overlay:"ModalAddTransaction_modal__overlay__M0U+1",modal__close:"ModalAddTransaction_modal__close__UL8+y",modal__title:"ModalAddTransaction_modal__title__vLb8S",form__checkbox_container:"ModalAddTransaction_form__checkbox_container__u252m",form__checkbox_label:"ModalAddTransaction_form__checkbox_label__bTA1l",form__checkbox_label_expense:"ModalAddTransaction_form__checkbox_label_expense__1hNPD",form__checkbox_label_income:"ModalAddTransaction_form__checkbox_label_income__q+3On",form__checkbox_input:"ModalAddTransaction_form__checkbox_input__hOAWz",form__checkbox_custom:"ModalAddTransaction_form__checkbox_custom__ywj0K",form__slider:"ModalAddTransaction_form__slider__7zQRE",form__input:"ModalAddTransaction_form__input__D1nMS",form__input_flex:"ModalAddTransaction_form__input_flex__oIkkH",form__date:"ModalAddTransaction_form__date__UI4mE",form__flex_container:"ModalAddTransaction_form__flex_container__u8ryW",form__category:"ModalAddTransaction_form__category__FJeWT",form__category_active:"ModalAddTransaction_form__category_active__szwOH",form__btn_container:"ModalAddTransaction_form__btn_container__Z2eGj"},A=a(59434),C=a(59874),I=a(47380),P=function(){var e={transactionType:!1,amount:"",category:"",date:new Date,comment:""},n=y.Ry().shape({amount:y.Rx().typeError("Amount must be a number").required("Amount is required").positive("Amount must be a positive number"),date:y.hT().required("Date is required"),category:y.Z_().required("Category is required")}),a=(0,A.I0)(),t=(0,A.v9)(I.IZ),o=function(){var e=(0,r.Z)(c().mark((function e(n,a){var t,r,o,s;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a.setSubmitting,r=a.resetForm,o=a.setErrors;try{console.log("Form values:",n),r(),T.Am.success("Transaction added successfully!")}catch(c){c instanceof y.p8?(s={},c.inner.forEach((function(e){s[e.path]=e.message})),o(s)):T.Am.error("Error adding transaction. Please try again.")}finally{t(!1)}case 2:case"end":return e.stop()}}),e)})));return function(n,a){return e.apply(this,arguments)}}();return t?(0,m.jsx)("div",{className:Z.modal__overlay,children:(0,m.jsxs)("div",{className:Z.modal,children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("h5",{className:Z.modal__title,children:"Add Transaction"}),(0,m.jsx)("button",{type:"button",className:Z.modal__close,onClick:function(){console.log("Closing AddTransactionModal"),a((0,C._p)(!1))},children:(0,m.jsx)("svg",{width:"16px",height:"16px",children:(0,m.jsx)("use",{href:"".concat(d.Z,"#icon-close")})})})]}),(0,m.jsx)("div",{children:(0,m.jsx)(k.J9,{initialValues:e,onSubmit:o,validationSchema:n,children:function(e){var n=e.isSubmitting,a=e.handleSubmit,t=e.setFieldValue,r=e.values;return(0,m.jsxs)(k.l0,{onSubmit:a,children:[(0,m.jsx)("div",{className:Z.form__checkbox_container,children:(0,m.jsxs)("label",{className:Z.form__checkbox_label,children:[(0,m.jsx)("span",{htmlFor:"transactionType",className:"".concat(Z.form__checkbox_label," ").concat(!0===r.transactionType?Z.form__checkbox_label_income:null),children:"Income"}),(0,m.jsx)(k.gN,{type:"checkbox",name:"transactionType",id:"transactionType",className:Z.form__checkbox_input}),(0,m.jsx)("div",{className:Z.form__checkbox_custom,children:(0,m.jsx)("div",{className:Z.form__slider,children:!1===r.transactionType?"-":"+"})}),(0,m.jsx)("span",{htmlFor:"transactionType",className:"".concat(Z.form__checkbox_label," ").concat(!1===r.transactionType?Z.form__checkbox_label_expense:null),children:"Expense"})]})}),(0,m.jsxs)("div",{className:Z.form__flex_container,children:[!1===r.transactionType&&(0,m.jsx)("div",{className:Z.form__input,children:(0,m.jsxs)("label",{children:[(0,m.jsxs)(k.gN,{as:"select",name:"category",className:"".concat(Z.form__category," ").concat(""!==r.category?Z.form__category_active:null),children:[(0,m.jsx)("option",{hidden:!0,value:"",children:"Select a category"}),(0,m.jsx)("option",{value:"category1",children:"Main expenses"}),(0,m.jsx)("option",{value:"category2",children:"Products"}),(0,m.jsx)("option",{value:"category3",children:"Car"}),(0,m.jsx)("option",{value:"category4",children:"Self care"}),(0,m.jsx)("option",{value:"category5",children:"Child care"}),(0,m.jsx)("option",{value:"category6",children:"Household products"}),(0,m.jsx)("option",{value:"category7",children:"Education"}),(0,m.jsx)("option",{value:"category8",children:"Leisure"})]}),(0,m.jsx)(k.Bc,{name:"category",component:"div"})]})}),(0,m.jsxs)("div",{className:Z.form__input_flex,children:[(0,m.jsxs)("label",{children:[(0,m.jsx)(k.gN,{type:"number",name:"amount",placeholder:"0.00",className:Z.form__input}),(0,m.jsx)(k.Bc,{name:"amount",component:"div"})]}),(0,m.jsxs)("label",{children:[(0,m.jsx)(w(),{value:r.date,onChange:function(e){return t("date",e)},className:"".concat(Z.form__input," ").concat(Z.form__date),dateFormat:"YYYY-MM-DD",timeFormat:!1}),(0,m.jsx)("span",{className:Z.form__date_icon}),(0,m.jsx)(k.Bc,{name:"date",component:"div"})]})]}),(0,m.jsx)("div",{className:Z.form__input,children:(0,m.jsx)("label",{children:(0,m.jsx)(k.gN,{as:"input",type:"text",name:"comment",placeholder:"Comment",className:Z.form__input})})})]}),(0,m.jsxs)("div",{className:Z.form__btn_container,children:[(0,m.jsx)(S.zx,{type:"submit",theme:"color",disabled:n,children:"Add"}),(0,m.jsx)(S.zx,{type:"button",theme:"white",children:"Cancel"})]})]})}})})]})}):null},B="ButtonAddTransactions_add_transaction_btn__DAp3y",M=function(){var e=(0,A.I0)();return(0,m.jsx)("button",{onClick:function(){e((0,C._p)(!0))},className:B,children:"+"})},E=a(54270),q=function(){return(0,m.jsxs)("div",{className:h,children:[(0,m.jsx)(E.q,{children:(0,m.jsx)("title",{children:"Home"})}),(0,m.jsxs)("section",{className:x,children:[(0,m.jsxs)("div",{className:p,children:[(0,m.jsxs)("div",{className:f,children:[(0,m.jsx)(g.Z,{}),(0,m.jsx)(b.y,{}),(0,m.jsx)(v.w,{})]}),(0,m.jsxs)("div",{className:j,children:[(0,m.jsx)(_,{}),(0,m.jsx)(P,{})]})]}),(0,m.jsx)(M,{})]})]})}},47380:function(e,n,a){a.d(n,{IZ:function(){return t},up:function(){return r}});var t=function(e){return e.global.isModalAddTransactionOpen},r=function(e){return e.global.patterns}}}]);
//# sourceMappingURL=46.a181689f.chunk.js.map