"use strict";(self.webpackChunkwallet_application=self.webpackChunkwallet_application||[]).push([[46],{87384:function(e,n,t){t.d(n,{y:function(){return o}});var a="Balance_balance__tUx3D",r="Balance_title__aUwwk",c="Balance_amount__t4xet",s=t(80184),o=function(){return(0,s.jsxs)("div",{className:a,children:[(0,s.jsx)("p",{className:r,children:"YOUR BALANCE"}),(0,s.jsx)("p",{className:c,children:"PLN 0.00"})]})}},20820:function(e,n,t){t.d(n,{w:function(){return u}});var a=t(15861),r=t(29439),c=t(64687),s=t.n(c),o=t(72791),i={tableBg:"CurrencyTable_tableBg__nplZ5",currencyTable:"CurrencyTable_currencyTable__1iH+4",currencyTableHead:"CurrencyTable_currencyTableHead__0L-k0"},l=t(29086),d=t(80184),u=function(){var e=(0,o.useState)([]),n=(0,r.Z)(e,2),t=n[0],c=n[1];return(0,o.useEffect)((function(){var e=function(){var e=(0,a.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.$.get("/currencies");case 3:n=e.sent,c(n.data.data.currencies),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching currencies",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,d.jsx)("div",{className:i.tableBg,children:(0,d.jsxs)("table",{className:i.currencyTable,children:[(0,d.jsx)("thead",{className:i.currencyTableHead,children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"Currency"}),(0,d.jsx)("th",{children:"Purchase"}),(0,d.jsx)("th",{children:"Sell"})]})}),(0,d.jsx)("tbody",{className:i.currencyTableBody,children:t.map((function(e){return(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:e.code}),(0,d.jsx)("td",{children:e.bid}),(0,d.jsx)("td",{children:e.ask})]},e._id)}))})]})})}},52959:function(e,n,t){t.d(n,{Z:function(){return u}});t(72791);var a=t(57689),r=t(11087),c="ActiveNavLink_link__Srke3",s="ActiveNavLink_active__uzCgI",o=t(80184),i=function(e){var n=e.to,t=e.children,i=(0,a.WU)(n),l=(0,a.bS)({path:i.pathname,end:!0})?s:c;return(0,o.jsx)(r.OL,{to:n,className:l,children:t})},l={icon:"Navigation_icon__lPT0N"},d=t(13439),u=function(){return(0,o.jsx)("nav",{children:(0,o.jsxs)("ul",{className:l.navigation,children:[(0,o.jsx)("li",{children:(0,o.jsxs)(i,{to:"/home",children:[(0,o.jsx)("svg",{className:l.icon,width:"38px",height:"38px",children:(0,o.jsx)("use",{href:"".concat(d.Z,"#icon-home3")})}),"Home"]})}),(0,o.jsx)("li",{children:(0,o.jsxs)(i,{to:"/statistics",children:[(0,o.jsx)("svg",{className:l.icon,width:"38px",height:"38px",children:(0,o.jsx)("use",{href:"".concat(d.Z,"#icon-baseline-timeline")})}),"Statistics"]})})]})})}},60725:function(e,n,t){t.r(n),t.d(n,{default:function(){return F}});var a=t(93433),r=t(15861),c=t(29439),s=t(64687),o=t.n(s),i=t(72791),l={tableBg:"Transactions_tableBg__72B4n",transactionsTable:"Transactions_transactionsTable__klztX",transactionsTableHead:"Transactions_transactionsTableHead__UmWQz",transactionsTablebody:"Transactions_transactionsTablebody__D0TIz",thName:"Transactions_thName__SoSPQ",iconSort:"Transactions_iconSort__jQ4-1",sumSection:"Transactions_sumSection__QP2mB",iconTransactions:"Transactions_iconTransactions__uSrmT",amountPlus:"Transactions_amountPlus__xCwMa",amountMinus:"Transactions_amountMinus__h36e+"},d=t(13439),u=t(29086),_=t(80184),m=function(){var e=(0,i.useState)([]),n=(0,c.Z)(e,2),t=n[0],s=n[1],m=(0,i.useState)({sumPlus:0,sumMinus:0,balance:0}),h=(0,c.Z)(m,2)[1],x=(0,i.useState)({column:null,direction:"asc"}),p=(0,c.Z)(x,2),f=p[0],j=p[1],b=(0,i.useCallback)((function(){var e=0,n=0;return t.forEach((function(t){var a=parseFloat(t[4]);"Income"===t[1]?e+=a:"Expense"===t[1]&&(n+=a)})),{sumPlus:e,sumMinus:n,balance:e-n}}),[t]);(0,i.useEffect)((function(){var e=function(){var e=(0,r.Z)(o().mark((function e(){var n,t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.$.get("/transactions");case 3:n=e.sent,t=n.data.data.map((function(e){return{id:e._id,date:e.date?new Date(e.date).toLocaleDateString():"",type:e.type||"",category:e.category?e.category.toString():"",comment:e.comment||"",sum:e.sum?e.sum.toString():""}})),s(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching transactions",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,i.useEffect)((function(){var e=b(),n=e.sumPlus,t=e.sumMinus,a=e.balance;h({sumPlus:n,sumMinus:t,balance:a})}),[t,b]);var v=function(e){var n=e===f.column&&"asc"===f.direction?"desc":"asc";console.log(t);var r=(0,a.Z)(t).sort((function(t,a){var r=4===e?parseFloat(t[e]):t[e],c=4===e?parseFloat(a[e]):a[e];return 0===e&&(r=new Date(r),c=new Date(c)),"asc"===n?r>c?1:-1:r<c?1:-1}));console.log(r),s(r),j({column:e,direction:n})},g=b(),y=g.sumPlus,N=g.sumMinus,T=g.balance,k=function(){var e=(0,r.Z)(o().mark((function e(n){var a,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,a=localStorage.getItem("authToken")){e.next=5;break}return console.error("No auth token found"),e.abrupt("return");case 5:return e.next=7,u.$.delete("http://localhost:3000/api/transactions/".concat(n),{headers:{Authorization:"Bearer ".concat(a)}});case 7:200===e.sent.status?(r=t.filter((function(e){return e.id!==n})),s(r)):console.error("Error deleting transaction"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error deleting transaction",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(n){return e.apply(this,arguments)}}();return(0,_.jsxs)("div",{children:[(0,_.jsx)("div",{className:l.tableBg,children:(0,_.jsxs)("table",{className:l.transactionsTable,children:[(0,_.jsx)("thead",{className:l.transactionsTableHead,children:(0,_.jsxs)("tr",{children:[(0,_.jsx)("th",{onClick:function(){return v(0)},title:"Sort",children:(0,_.jsxs)("div",{className:l.thName,children:[(0,_.jsx)("span",{children:"Date"}),(0,_.jsx)("svg",{className:l.iconSort,width:"20px",height:"20px",children:(0,_.jsx)("use",{href:"".concat(d.Z,"#icon-sort")})})]})}),(0,_.jsx)("th",{onClick:function(){return v(1)},title:"Sort",children:(0,_.jsxs)("div",{className:l.thName,children:[(0,_.jsx)("span",{children:"Type"}),(0,_.jsx)("svg",{className:l.iconSort,width:"20px",height:"20px",children:(0,_.jsx)("use",{href:"".concat(d.Z,"#icon-sort")})})]})}),(0,_.jsx)("th",{onClick:function(){return v(2)},title:"Sort",children:(0,_.jsxs)("div",{className:l.thName,children:[(0,_.jsx)("span",{children:"Category"}),(0,_.jsx)("svg",{className:l.iconSort,width:"20px",height:"20px",children:(0,_.jsx)("use",{href:"".concat(d.Z,"#icon-sort")})})]})}),(0,_.jsx)("th",{onClick:function(){return v(3)},title:"Sort",children:(0,_.jsxs)("div",{className:l.thName,children:[(0,_.jsx)("span",{children:"Comment"}),(0,_.jsx)("svg",{className:l.iconSort,width:"20px",height:"20px",children:(0,_.jsx)("use",{href:"".concat(d.Z,"#icon-sort")})})]})}),(0,_.jsx)("th",{onClick:function(){return v(4)},title:"Sort",children:(0,_.jsxs)("div",{className:l.thName,children:[(0,_.jsx)("span",{children:"Amount"}),(0,_.jsx)("svg",{className:l.iconSort,width:"20px",height:"20px",children:(0,_.jsx)("use",{href:"".concat(d.Z,"#icon-sort")})})]})}),(0,_.jsx)("th",{children:"Options"})]})}),(0,_.jsx)("tbody",{className:l.transactionsTableBody,children:t.map((function(e){return(0,_.jsxs)("tr",{children:[(0,_.jsx)("td",{children:e.date}),(0,_.jsx)("td",{children:e.type}),(0,_.jsx)("td",{children:e.category}),(0,_.jsx)("td",{children:e.comment}),(0,_.jsx)("td",{className:(n=e.type,"Income"===n?l.amountPlus:"Expense"===n?l.amountMinus:""),children:e.sum}),(0,_.jsxs)("td",{children:[(0,_.jsx)("svg",{className:l.iconTransactions,width:"20px",height:"20px",children:(0,_.jsx)("use",{href:"".concat(d.Z,"#icon-pencil2")})}),(0,_.jsx)("svg",{className:l.iconTransactions,width:"20px",height:"20px",onClick:function(){return k(e.id)},children:(0,_.jsx)("use",{href:"".concat(d.Z,"#icon-bin")})})]})]},e.id);var n}))})]})}),(0,_.jsxs)("div",{className:l.sumSection,children:[(0,_.jsxs)("p",{children:["Incomes: ",y.toFixed(2)]}),(0,_.jsxs)("p",{children:["Expenses: ",N.toFixed(2)]}),(0,_.jsxs)("p",{children:["Balance: ",T.toFixed(2)]})]})]})},h="Home_background__w4mTu",x="Home_dashboard_container__E9ETc",p="Home_container__qRlyu",f="Home_sidebar__74EFX",j="Home_main__4+rG5",b=t(20820),v=t(87384),g=t(52959),y=t(1413),N=t(8007),T=t(55294),k=t(11799),S=t.n(k),w=t(9085),A=(t(81778),t(55705)),Z=t(48196),M={modal:"ModalAddTransaction_modal__EJwZ+",modal__overlay:"ModalAddTransaction_modal__overlay__M0U+1",modal__close:"ModalAddTransaction_modal__close__UL8+y",modal__title:"ModalAddTransaction_modal__title__vLb8S",form__checkbox_container:"ModalAddTransaction_form__checkbox_container__u252m",form__checkbox_label:"ModalAddTransaction_form__checkbox_label__bTA1l",form__checkbox_label_expense:"ModalAddTransaction_form__checkbox_label_expense__1hNPD",form__checkbox_label_income:"ModalAddTransaction_form__checkbox_label_income__q+3On",form__checkbox_input:"ModalAddTransaction_form__checkbox_input__hOAWz",form__checkbox_custom:"ModalAddTransaction_form__checkbox_custom__ywj0K",form__slider:"ModalAddTransaction_form__slider__7zQRE",form__input:"ModalAddTransaction_form__input__D1nMS",form__input_flex:"ModalAddTransaction_form__input_flex__oIkkH",form__date:"ModalAddTransaction_form__date__UI4mE",form__flex_container:"ModalAddTransaction_form__flex_container__u8ryW",form__category:"ModalAddTransaction_form__category__FJeWT",form__category_active:"ModalAddTransaction_form__category_active__szwOH",form__btn_container:"ModalAddTransaction_form__btn_container__Z2eGj","error-message":"ModalAddTransaction_error-message__VpG-N"},E=t(59434),C=t(59874),B=t(47380),H=function(){var e={type:!1,sum:"",category:"",date:new Date,comment:""},n=(0,i.useState)([]),t=(0,c.Z)(n,2),a=t[0],s=t[1],l=N.Ry().shape({type:N.O7(),sum:N.Rx().typeError("Amount must be a number").required("Amount is required").positive("Amount must be a positive number"),date:N.hT().required("Date is required"),category:N.Z_().when("type",(function(e,n){return!1===e?n.required("Category is required"):n})),comment:N.Z_()}),u=(0,E.I0)(),m=(0,E.v9)(B.IZ),h=function(){u((0,C._p)(!1))};(0,i.useEffect)((function(){var e=function(){var e=(0,r.Z)(o().mark((function e(){var n,t,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=localStorage.getItem("authToken")){e.next=5;break}return console.error("No auth token found"),e.abrupt("return");case 5:return e.next=7,T.Z.get("http://localhost:3000/api/auth/categories",{headers:{Authorization:"Bearer ".concat(n)}});case 7:t=e.sent,a=t.data.data,s(a),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Error fetching categories",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var x=function(){var e=(0,r.Z)(o().mark((function e(n,t){var a,r,c,s,i,l,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.setSubmitting,r=t.resetForm,c=t.setErrors,e.prev=1,s=localStorage.getItem("authToken")){e.next=6;break}return console.error("No auth token found"),e.abrupt("return");case 6:return console.log(n),i=(0,y.Z)((0,y.Z)({sum:n.sum,date:n.date.toISOString().split("T")[0],type:n.type?"Income":"Expense"},!1===n.type&&{category:n.category}),{},{comment:n.comment}),console.log(i),e.next=11,T.Z.post("http://localhost:3000/api/transactions",i,{headers:{Authorization:"Bearer ".concat(s)}});case 11:201===(l=e.sent).status?(console.log("Transaction added successfully!",l.data),r(),w.Am.success("Transaction added successfully!")):(console.error("Error adding transaction:",l.statusText),w.Am.error("Error adding transaction. Please try again.")),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),console.error("Validation error:",e.t0),e.t0 instanceof N.p8?(d={},e.t0.inner.forEach((function(e){d[e.path]=e.message})),c(d)):w.Am.error("Error adding transaction. Please try again.");case 19:return e.prev=19,a(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[1,15,19,22]])})));return function(n,t){return e.apply(this,arguments)}}();return m?(0,_.jsx)("div",{className:M.modal__overlay,children:(0,_.jsxs)("div",{className:M.modal,children:[(0,_.jsxs)("div",{children:[(0,_.jsx)("h5",{className:M.modal__title,children:"Add Transaction"}),(0,_.jsx)("button",{type:"button",className:M.modal__close,onClick:h,children:(0,_.jsx)("svg",{width:"16px",height:"16px",children:(0,_.jsx)("use",{href:"".concat(d.Z,"#icon-close")})})})]}),(0,_.jsx)("div",{children:(0,_.jsx)(A.J9,{initialValues:e,onSubmit:x,validationSchema:l,children:function(n){var t=n.isSubmitting,r=n.handleSubmit,c=n.setFieldValue,s=n.values,o=n.setValues,i=n.setErrors;return(0,_.jsxs)(A.l0,{onSubmit:r,children:[(0,_.jsx)("div",{className:M.form__checkbox_container,children:(0,_.jsxs)("label",{className:M.form__checkbox_label,children:[(0,_.jsx)("span",{htmlFor:"type",className:"".concat(M.form__checkbox_label," ").concat(!0===s.type?M.form__checkbox_label_income:null),children:"Income"}),(0,_.jsx)(A.gN,{type:"checkbox",name:"type",id:"type",onClick:function(){o((0,y.Z)((0,y.Z)({},e),{},{type:s.type})),i({})},className:M.form__checkbox_input}),(0,_.jsx)("div",{className:M.form__checkbox_custom,children:(0,_.jsx)("div",{className:M.form__slider,children:!1===s.type?"-":"+"})}),(0,_.jsx)("span",{htmlFor:"type",className:"".concat(M.form__checkbox_label," ").concat(!1===s.type?M.form__checkbox_label_expense:null),children:"Expense"})]})}),(0,_.jsxs)("div",{className:M.form__flex_container,children:[!1===s.type&&(0,_.jsx)("div",{className:M.form__input,children:(0,_.jsxs)("label",{children:[(0,_.jsxs)(A.gN,{as:"select",name:"category",className:"".concat(M.form__category," ").concat(""!==s.category?M.form__category_active:null),children:[(0,_.jsx)("option",{hidden:!0,value:"",children:"Select a category"}),a.map((function(e){return(0,_.jsx)("option",{value:e._id,children:e.name},e._id)}))]}),(0,_.jsx)(A.Bc,{name:"category",component:"div"})]})}),(0,_.jsxs)("div",{className:M.form__input_flex,children:[(0,_.jsxs)("label",{children:[(0,_.jsx)(A.gN,{type:"number",name:"sum",placeholder:"0.00",className:M.form__input}),(0,_.jsx)(A.Bc,{name:"sum",component:"div"})]}),(0,_.jsxs)("label",{children:[(0,_.jsx)(S(),{value:s.date,onChange:function(e){return c("date",e)},className:"".concat(M.form__input," ").concat(M.form__date),dateFormat:"YYYY-MM-DD",timeFormat:!1}),(0,_.jsx)("span",{className:M.form__date_icon}),(0,_.jsx)(A.Bc,{name:"date",component:"div"})]})]}),(0,_.jsx)("div",{className:M.form__input,children:(0,_.jsx)("label",{children:(0,_.jsx)(A.gN,{as:"input",type:"text",name:"comment",placeholder:"Comment",className:M.form__input})})})]}),(0,_.jsxs)("div",{className:M.form__btn_container,children:[(0,_.jsx)(Z.zx,{type:"submit",theme:"color",disabled:t,children:"Add"}),(0,_.jsx)(Z.zx,{type:"button",theme:"white",onClick:h,children:"Cancel"})]})]})}})})]})}):null},I="ButtonAddTransactions_add_transaction_btn__DAp3y",P=function(){var e=(0,E.I0)();return(0,_.jsx)("button",{onClick:function(){e((0,C._p)(!0))},className:I,children:"+"})},D=t(54270),F=function(){return(0,_.jsxs)("div",{className:h,children:[(0,_.jsx)(D.q,{children:(0,_.jsx)("title",{children:"Home"})}),(0,_.jsxs)("section",{className:x,children:[(0,_.jsxs)("div",{className:p,children:[(0,_.jsxs)("div",{className:f,children:[(0,_.jsx)(g.Z,{}),(0,_.jsx)(v.y,{}),(0,_.jsx)(b.w,{})]}),(0,_.jsxs)("div",{className:j,children:[(0,_.jsx)(m,{}),(0,_.jsx)(H,{})]})]}),(0,_.jsx)(P,{})]})]})}}}]);
//# sourceMappingURL=46.c37cb00b.chunk.js.map