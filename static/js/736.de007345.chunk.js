"use strict";(self.webpackChunkwallet_application=self.webpackChunkwallet_application||[]).push([[736],{87384:function(e,n,a){a.d(n,{y:function(){return _}});var t=a(72791),c=a(59434),r="Balance_balance__tUx3D",s="Balance_title__aUwwk",o="Balance_amount__t4xet",i=a(45094),l=a(18071),d=a(80184),_=function(){var e=(0,c.I0)(),n=(0,c.v9)(i.uy),a=n?n.balance:0;return(0,t.useEffect)((function(){e((0,l.M_)())}),[e]),(0,d.jsxs)("div",{className:r,children:[(0,d.jsx)("p",{className:s,children:"YOUR BALANCE"}),(0,d.jsxs)("p",{className:o,children:["PLN ",a]})]})}},20820:function(e,n,a){a.d(n,{w:function(){return _}});var t=a(15861),c=a(29439),r=a(64687),s=a.n(r),o=a(72791),i={tableBg:"CurrencyTable_tableBg__nplZ5",currencyTable:"CurrencyTable_currencyTable__1iH+4",currencyTableHead:"CurrencyTable_currencyTableHead__0L-k0"},l=a(36234),d=a(80184),_=function(){var e=(0,o.useState)([]),n=(0,c.Z)(e,2),a=n[0],r=n[1];return(0,o.useEffect)((function(){var e=function(){var e=(0,t.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.$.get("/currencies");case 3:n=e.sent,r(n.data.data.currencies),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching currencies",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,d.jsx)("div",{className:i.tableBg,children:(0,d.jsxs)("table",{className:i.currencyTable,children:[(0,d.jsx)("thead",{className:i.currencyTableHead,children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"Currency"}),(0,d.jsx)("th",{children:"Purchase"}),(0,d.jsx)("th",{children:"Sell"})]})}),(0,d.jsx)("tbody",{className:i.currencyTableBody,children:a.map((function(e){return(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:e.code}),(0,d.jsx)("td",{children:e.bid}),(0,d.jsx)("td",{children:e.ask})]},e._id)}))})]})})}},52959:function(e,n,a){a.d(n,{Z:function(){return _}});a(72791);var t=a(57689),c=a(11087),r="ActiveNavLink_link__Srke3",s="ActiveNavLink_active__uzCgI",o=a(80184),i=function(e){var n=e.to,a=e.children,i=(0,t.WU)(n),l=(0,t.bS)({path:i.pathname,end:!0})?s:r;return(0,o.jsx)(c.OL,{to:n,className:l,children:a})},l={icon:"Navigation_icon__lPT0N"},d=a(13439),_=function(){return(0,o.jsx)("nav",{children:(0,o.jsxs)("ul",{className:l.navigation,children:[(0,o.jsx)("li",{children:(0,o.jsxs)(i,{to:"/home",children:[(0,o.jsx)("svg",{className:l.icon,width:"38px",height:"38px",children:(0,o.jsx)("use",{href:"".concat(d.Z,"#icon-home3")})}),"Home"]})}),(0,o.jsx)("li",{children:(0,o.jsxs)(i,{to:"/statistics",children:[(0,o.jsx)("svg",{className:l.icon,width:"38px",height:"38px",children:(0,o.jsx)("use",{href:"".concat(d.Z,"#icon-baseline-timeline")})}),"Statistics"]})})]})})}},9480:function(e,n,a){a.r(n),a.d(n,{default:function(){return L}});var t="Home_background__w4mTu",c="Home_dashboard_container__E9ETc",r="Home_container__qRlyu",s="Home_sidebar__74EFX",o="Home_main__4+rG5",i=a(20820),l=a(87384),d=a(52959),_=a(1413),u=a(93433),m=a(15861),h=a(29439),x=a(64687),f=a.n(x),p=a(72791),j=a(59434),v={tableBg:"Transactions_tableBg__zIQxE",transactionsTable:"Transactions_transactionsTable__83vc7",transactionsTableHead:"Transactions_transactionsTableHead__8+gku",transactionsTablebody:"Transactions_transactionsTablebody__5CQS8",thName:"Transactions_thName__3q6MS",iconSort:"Transactions_iconSort__6FlXB",sumSection:"Transactions_sumSection__rkTQ1",iconTransactions:"Transactions_iconTransactions__lZpcx",amountPlus:"Transactions_amountPlus__gFaHt",amountMinus:"Transactions_amountMinus__4FyfO"},b=a(13439),y=a(18071),g=a(45094),N=a(36234),T=a(80184),k=function(e){var n=e.transactions,a=e.deleteTransaction,t=(0,p.useState)({sumPlus:0,sumMinus:0,balance:0}),c=(0,h.Z)(t,2)[1],r=(0,p.useState)({column:null,direction:"asc"}),s=(0,h.Z)(r,2),o=s[0],i=s[1],l=(0,j.I0)(),d=(0,j.v9)(g.uy),_=d?d.balance:0;(0,p.useEffect)((function(){l((0,y.M_)())}),[l,n,a]);var x=(0,p.useCallback)((function(){var e=0,a=0;return n.forEach((function(n){var t=parseFloat(n[4]);"Income"===n[1]?e+=t:"Expense"===n[1]&&(a+=t)})),{sumPlus:e,sumMinus:a,balance:e-a}}),[n]);(0,p.useEffect)((function(){var e=x(),n=e.sumPlus,a=e.sumMinus,t=e.balance;c({sumPlus:n,sumMinus:a,balance:t})}),[n,x]);var k=function(e){var n=e===o.column&&"asc"===o.direction?"desc":"asc";i({column:e,direction:n})},S=(0,u.Z)(n).sort((function(e,n){var a,t;return 4===o.column?(a=parseFloat(e.sum),t=parseFloat(n.sum)):0===o.column?(a=new Date(e.date),t=new Date(n.date)):(a=e[o.column],t=n[o.column]),"asc"===o.direction?a>t?1:-1:a<t?1:-1})),Z=x(),w=Z.sumPlus,A=Z.sumMinus,M=function(){var e=(0,m.Z)(f().mark((function e(n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.$.delete("/transactions/".concat(n));case 3:200===e.sent.status?a(n):console.error("Error deleting transaction"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error deleting transaction",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}();return(0,T.jsxs)("div",{children:[(0,T.jsx)("div",{className:v.tableBg,children:(0,T.jsxs)("table",{className:v.transactionsTable,children:[(0,T.jsx)("thead",{className:v.transactionsTableHead,children:(0,T.jsxs)("tr",{children:[(0,T.jsx)("th",{onClick:function(){return k(0)},title:"Sort",children:(0,T.jsxs)("div",{className:v.thName,children:[(0,T.jsx)("span",{children:"Date"}),(0,T.jsx)("svg",{className:v.iconSort,width:"20px",height:"20px",children:(0,T.jsx)("use",{href:"".concat(b.Z,"#icon-sort")})})]})}),(0,T.jsx)("th",{onClick:function(){return k(1)},title:"Sort",children:(0,T.jsxs)("div",{className:v.thName,children:[(0,T.jsx)("span",{children:"Type"}),(0,T.jsx)("svg",{className:v.iconSort,width:"20px",height:"20px",children:(0,T.jsx)("use",{href:"".concat(b.Z,"#icon-sort")})})]})}),(0,T.jsx)("th",{onClick:function(){return k(2)},title:"Sort",children:(0,T.jsxs)("div",{className:v.thName,children:[(0,T.jsx)("span",{children:"Category"}),(0,T.jsx)("svg",{className:v.iconSort,width:"20px",height:"20px",children:(0,T.jsx)("use",{href:"".concat(b.Z,"#icon-sort")})})]})}),(0,T.jsx)("th",{onClick:function(){return k(3)},title:"Sort",children:(0,T.jsxs)("div",{className:v.thName,children:[(0,T.jsx)("span",{children:"Comment"}),(0,T.jsx)("svg",{className:v.iconSort,width:"20px",height:"20px",children:(0,T.jsx)("use",{href:"".concat(b.Z,"#icon-sort")})})]})}),(0,T.jsx)("th",{onClick:function(){return k(4)},title:"Sort",children:(0,T.jsxs)("div",{className:v.thName,children:[(0,T.jsx)("span",{children:"Amount"}),(0,T.jsx)("svg",{className:v.iconSort,width:"20px",height:"20px",children:(0,T.jsx)("use",{href:"".concat(b.Z,"#icon-sort")})})]})}),(0,T.jsx)("th",{children:"Options"})]})}),(0,T.jsx)("tbody",{className:v.transactionsTableBody,children:S.map((function(e,n){return(0,T.jsxs)("tr",{children:[(0,T.jsx)("td",{children:e.date}),(0,T.jsx)("td",{children:e.type}),(0,T.jsx)("td",{children:e.category}),(0,T.jsx)("td",{children:e.comment}),(0,T.jsx)("td",{className:(a=e.type,"Income"===a?v.amountPlus:"Expense"===a?v.amountMinus:""),children:e.sum}),(0,T.jsxs)("td",{children:[(0,T.jsx)("svg",{className:v.iconTransactions,width:"20px",height:"20px",children:(0,T.jsx)("use",{href:"".concat(b.Z,"#icon-pencil2")})}),(0,T.jsx)("svg",{className:v.iconTransactions,width:"20px",height:"20px",onClick:function(){return M(e.id)},children:(0,T.jsx)("use",{href:"".concat(b.Z,"#icon-bin")})})]})]},n);var a}))})]})}),(0,T.jsxs)("div",{className:v.sumSection,children:[(0,T.jsxs)("p",{children:["Incomes: ",w.toFixed(2)]}),(0,T.jsxs)("p",{children:["Expenses: ",A.toFixed(2)]}),(0,T.jsxs)("p",{children:["Balance: ",_]})]})]})},S=a(8007),Z=a(11799),w=a.n(Z),A=a(9085),M=(a(81778),a(55705)),E=a(48196),C={modal:"ModalAddTransaction_modal__92Wan",modal__overlay:"ModalAddTransaction_modal__overlay__5muZL",modal__close:"ModalAddTransaction_modal__close__2oFKS",modal__title:"ModalAddTransaction_modal__title__lkrl8",form__checkbox_container:"ModalAddTransaction_form__checkbox_container__Ewtgx",form__checkbox_label:"ModalAddTransaction_form__checkbox_label__fP5ud",form__checkbox_label_expense:"ModalAddTransaction_form__checkbox_label_expense__Pkkrh",form__checkbox_label_income:"ModalAddTransaction_form__checkbox_label_income__1jimB",form__checkbox_input:"ModalAddTransaction_form__checkbox_input__mqlbb",form__checkbox_custom:"ModalAddTransaction_form__checkbox_custom__TZ4ho",form__slider:"ModalAddTransaction_form__slider__UGKmj",form__input:"ModalAddTransaction_form__input__mcnWJ",form__input_flex:"ModalAddTransaction_form__input_flex__JnydG",form__date:"ModalAddTransaction_form__date__7R5ye",form__flex_container:"ModalAddTransaction_form__flex_container__agrkZ",form__category:"ModalAddTransaction_form__category__9vIwc",form__category_active:"ModalAddTransaction_form__category_active__eIpA1",form__btn_container:"ModalAddTransaction_form__btn_container__Lecm6","error-message":"ModalAddTransaction_error-message__XGrbE"},B=a(59874),F=a(47380),H=function(e){var n=e.addTransaction,a={type:!1,sum:"",category:"",date:new Date,comment:""},t=(0,p.useState)([]),c=(0,h.Z)(t,2),r=c[0],s=c[1],o=S.Ry().shape({type:S.Z_(),sum:S.Rx().typeError("Amount must be a number").required("Amount is required").positive("Amount must be a positive number"),date:S.hT().required("Date is required"),category:S.Z_().required("Category is required"),comment:S.Z_()}),i=(0,j.I0)(),l=(0,j.v9)(F.IZ);(0,p.useEffect)((function(){var e=function(){var e=(0,m.Z)(f().mark((function e(){var n,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.$.get("/categories");case 3:n=e.sent,a=n.data.data,s(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching categories",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);var d=function(){i((0,B._p)(!1))},u=function(){var e=(0,m.Z)(f().mark((function e(a,t){var c,r,s,o,i,l;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.setSubmitting,r=t.resetForm,s=t.setErrors,e.prev=1,console.log(a),o={sum:a.sum,date:a.date.toISOString().split("T")[0],type:a.type?"Income":"Expense",category:a.category,comment:a.comment},e.next=6,N.$.post("/transactions",o);case 6:201===(i=e.sent).status?(console.log("Transaction added successfully!",i.data),n(i.data),d(),r(),A.Am.success("Transaction added successfully!")):A.Am.error("Error adding transaction. Please try again."),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Validation error:",e.t0),e.t0 instanceof S.p8?(l={},e.t0.inner.forEach((function(e){l[e.path]=e.message})),s(l)):A.Am.error("Error adding transaction. Please try again.");case 14:return e.prev=14,c(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,10,14,17]])})));return function(n,a){return e.apply(this,arguments)}}();return l?(0,T.jsx)("div",{className:C.modal__overlay,children:(0,T.jsxs)("div",{className:C.modal,children:[(0,T.jsxs)("div",{children:[(0,T.jsx)("h5",{className:C.modal__title,children:"Add Transaction"}),(0,T.jsx)("button",{type:"button",className:C.modal__close,onClick:d,children:(0,T.jsx)("svg",{width:"16px",height:"16px",children:(0,T.jsx)("use",{href:"".concat(b.Z,"#icon-close")})})})]}),(0,T.jsx)("div",{children:(0,T.jsx)(M.J9,{initialValues:a,onSubmit:u,validationSchema:o,children:function(e){var n=e.isSubmitting,t=e.handleSubmit,c=e.setFieldValue,s=e.values,o=e.setValues,i=e.setErrors;return(0,T.jsxs)(M.l0,{onSubmit:t,children:[(0,T.jsx)("div",{className:C.form__checkbox_container,children:(0,T.jsxs)("label",{className:C.form__checkbox_label,children:[(0,T.jsx)("span",{htmlFor:"type",className:"".concat(C.form__checkbox_label," ").concat(!0===s.type?C.form__checkbox_label_income:null),children:"Income"}),(0,T.jsx)(M.gN,{type:"checkbox",name:"type",id:"type",onClick:function(){o((0,_.Z)((0,_.Z)({},a),{},{type:s.type})),i({})},className:C.form__checkbox_input}),(0,T.jsx)("div",{className:C.form__checkbox_custom,children:(0,T.jsx)("div",{className:C.form__slider,children:!1===s.type?"-":"+"})}),(0,T.jsx)("span",{htmlFor:"type",className:"".concat(C.form__checkbox_label," ").concat(!1===s.type?C.form__checkbox_label_expense:null),children:"Expense"})]})}),(0,T.jsxs)("div",{className:C.form__flex_container,children:[(0,T.jsx)("div",{className:C.form__input,children:(0,T.jsxs)("label",{children:[(0,T.jsxs)(M.gN,{as:"select",name:"category",className:"".concat(C.form__category," ").concat(""!==s.category?C.form__category_active:null),children:[(0,T.jsx)("option",{hidden:!0,value:"",children:"Select a category"}),r.filter((function(e){return!0===s.type?"income"===e.type:"expense"===e.type})).map((function(e){return(0,T.jsx)("option",{value:e._id,children:e.name},e._id)}))]}),(0,T.jsx)(M.Bc,{name:"category",component:"div"})]})}),(0,T.jsxs)("div",{className:C.form__input_flex,children:[(0,T.jsxs)("label",{children:[(0,T.jsx)(M.gN,{type:"number",name:"sum",placeholder:"0.00",className:C.form__input}),(0,T.jsx)(M.Bc,{name:"sum",component:"div"})]}),(0,T.jsxs)("label",{children:[(0,T.jsx)(w(),{value:s.date,onChange:function(e){return c("date",e)},className:"".concat(C.form__input," ").concat(C.form__date),dateFormat:"YYYY-MM-DD",timeFormat:!1}),(0,T.jsx)("span",{className:C.form__date_icon}),(0,T.jsx)(M.Bc,{name:"date",component:"div"})]})]}),(0,T.jsx)("div",{className:C.form__input,children:(0,T.jsx)("label",{children:(0,T.jsx)(M.gN,{as:"input",type:"text",name:"comment",placeholder:"Comment",className:C.form__input})})})]}),(0,T.jsxs)("div",{className:C.form__btn_container,children:[(0,T.jsx)(E.zx,{type:"submit",theme:"color",disabled:n,children:"Add"}),(0,T.jsx)(E.zx,{type:"button",theme:"white",onClick:d,children:"Cancel"})]})]})}})})]})}):null},I=function(){var e=(0,p.useState)([]),n=(0,h.Z)(e,2),a=n[0],t=n[1];(0,p.useEffect)((function(){c()}),[]);var c=function(){var e=(0,m.Z)(f().mark((function e(){var n,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.$.get("/transactions");case 3:n=e.sent,a=n.data.data.map((function(e){return{id:e._id,date:e.date?new Date(e.date).toLocaleDateString():"",type:e.type||"",category:e.category?e.category.toString():"",comment:e.comment||"",sum:e.sum?e.sum.toString():""}})),t(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching transactions",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,T.jsxs)("div",{children:[(0,T.jsx)(H,{addTransaction:function(e){t((function(n){return[].concat((0,u.Z)(n),[(0,_.Z)((0,_.Z)({},e),{},{id:e._id})])})),c()}}),(0,T.jsx)(k,{transactions:a,deleteTransaction:function(e){t((function(n){return n.filter((function(n){return n.id!==e}))}))}})]})},P="ButtonAddTransactions_add_transaction_btn__DAp3y",D=function(){var e=(0,j.I0)();return(0,T.jsx)("button",{onClick:function(){e((0,B._p)(!0))},className:P,children:"+"})},q=a(54270),L=function(){return(0,T.jsxs)("div",{className:t,children:[(0,T.jsx)(q.q,{children:(0,T.jsx)("title",{children:"Home"})}),(0,T.jsxs)("section",{className:c,children:[(0,T.jsxs)("div",{className:r,children:[(0,T.jsxs)("div",{className:s,children:[(0,T.jsx)(d.Z,{}),(0,T.jsx)(l.y,{}),(0,T.jsx)(i.w,{})]}),(0,T.jsx)("div",{className:o,children:(0,T.jsx)(I,{})})]}),(0,T.jsx)(D,{})]})]})}}}]);
//# sourceMappingURL=736.de007345.chunk.js.map