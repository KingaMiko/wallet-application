"use strict";(self.webpackChunkwallet_application=self.webpackChunkwallet_application||[]).push([[839],{7384:function(e,n,a){a.d(n,{y:function(){return d}});var t=a(2791),c=a(9434),r="Balance_balance__tUx3D",s="Balance_title__aUwwk",o="Balance_amount__t4xet",i=a(5094),l=a(8071),_=a(3329),d=function(){var e=(0,c.I0)(),n=(0,c.v9)(i.uy),a=n?n.balance:0;return(0,t.useEffect)((function(){e((0,l.M_)())}),[e]),(0,_.jsxs)("div",{className:r,children:[(0,_.jsx)("p",{className:s,children:"YOUR BALANCE"}),(0,_.jsxs)("p",{className:o,children:["PLN ",a]})]})}},820:function(e,n,a){a.d(n,{w:function(){return d}});var t=a(5861),c=a(9439),r=a(4687),s=a.n(r),o=a(2791),i={tableBg:"CurrencyTable_tableBg__nplZ5",currencyTable:"CurrencyTable_currencyTable__1iH+4"},l=a(6234),_=a(3329),d=function(){var e=(0,o.useState)([]),n=(0,c.Z)(e,2),a=n[0],r=n[1];return(0,o.useEffect)((function(){var e=function(){var e=(0,t.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.$.get("/currencies");case 3:n=e.sent,r(n.data.data.currencies),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error fetching currencies",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),(0,_.jsx)("div",{className:i.tableBg,children:(0,_.jsxs)("table",{className:i.currencyTable,children:[(0,_.jsx)("thead",{className:i.currencyTableHead,children:(0,_.jsxs)("tr",{children:[(0,_.jsx)("th",{children:"Currency"}),(0,_.jsx)("th",{children:"Purchase"}),(0,_.jsx)("th",{children:"Sell"})]})}),(0,_.jsx)("tbody",{className:i.currencyTableBody,children:a.map((function(e){return(0,_.jsxs)("tr",{children:[(0,_.jsx)("td",{children:e.code}),(0,_.jsx)("td",{children:e.bid}),(0,_.jsx)("td",{children:e.ask})]},e._id)}))})]})})}},2959:function(e,n,a){a.d(n,{Z:function(){return d}});a(2791);var t=a(7689),c=a(1087),r="ActiveNavLink_link__Srke3",s="ActiveNavLink_active__uzCgI",o=a(3329),i=function(e){var n=e.to,a=e.children,i=(0,t.WU)(n),l=(0,t.bS)({path:i.pathname,end:!0})?s:r;return(0,o.jsx)(c.OL,{to:n,className:l,children:a})},l={icon:"Navigation_icon__lPT0N"},_=a(3439),d=function(){return(0,o.jsx)("nav",{children:(0,o.jsxs)("ul",{className:l.navigation,children:[(0,o.jsx)("li",{children:(0,o.jsxs)(i,{to:"/home",children:[(0,o.jsx)("svg",{className:l.icon,width:"38px",height:"38px",children:(0,o.jsx)("use",{href:"".concat(_.Z,"#icon-home3")})}),"Home"]})}),(0,o.jsx)("li",{children:(0,o.jsxs)(i,{to:"/statistics",children:[(0,o.jsx)("svg",{className:l.icon,width:"38px",height:"38px",children:(0,o.jsx)("use",{href:"".concat(_.Z,"#icon-baseline-timeline")})}),"Statistics"]})})]})})}},7210:function(e,n,a){a.r(n),a.d(n,{default:function(){return K}});var t="Home_background__w4mTu",c="Home_dashboard_container__E9ETc",r="Home_container__qRlyu",s="Home_sidebar__74EFX",o="Home_main__4+rG5",i=a(820),l=a(7384),_=a(2959),d=a(9439),m=a(2791),u=a(9434),h="Transactions_tableBg__zIQxE",x="Transactions_transactionsTable__83vc7",f="Transactions_transactionsTableHead__8+gku",p="Transactions_thName__3q6MS",j="Transactions_iconSort__6FlXB",b="Transactions_iconTransactions__lZpcx",v="Transactions_amountPlus__gFaHt",y="Transactions_amountMinus__4FyfO",g=a(3439),N=a(3329),k=function(e){var n=e.transactions,a=e.onDelete,t=e.onEdit,c=(0,m.useState)({column:null,direction:"asc"}),r=(0,d.Z)(c,2),s=r[0],o=r[1],i=function(e){var n=e===s.column&&"asc"===s.direction?"desc":"asc";o({column:e,direction:n})};return(0,N.jsx)("div",{className:h,children:(0,N.jsxs)("table",{className:x,children:[(0,N.jsx)("thead",{className:f,children:(0,N.jsxs)("tr",{children:[(0,N.jsx)("th",{onClick:function(){return i(0)},title:"Sort",children:(0,N.jsxs)("div",{className:p,children:[(0,N.jsx)("span",{children:"Date"}),(0,N.jsx)("svg",{className:j,width:"20px",height:"20px",children:(0,N.jsx)("use",{href:"".concat(g.Z,"#icon-sort")})})]})}),(0,N.jsx)("th",{onClick:function(){return i(1)},title:"Sort",children:(0,N.jsxs)("div",{className:p,children:[(0,N.jsx)("span",{children:"Type"}),(0,N.jsx)("svg",{className:j,width:"20px",height:"20px",children:(0,N.jsx)("use",{href:"".concat(g.Z,"#icon-sort")})})]})}),(0,N.jsx)("th",{onClick:function(){return i(2)},title:"Sort",children:(0,N.jsxs)("div",{className:p,children:[(0,N.jsx)("span",{children:"Category"}),(0,N.jsx)("svg",{className:j,width:"20px",height:"20px",children:(0,N.jsx)("use",{href:"".concat(g.Z,"#icon-sort")})})]})}),(0,N.jsx)("th",{onClick:function(){return i(3)},title:"Sort",children:(0,N.jsxs)("div",{className:p,children:[(0,N.jsx)("span",{children:"Comment"}),(0,N.jsx)("svg",{className:j,width:"20px",height:"20px",children:(0,N.jsx)("use",{href:"".concat(g.Z,"#icon-sort")})})]})}),(0,N.jsx)("th",{onClick:function(){return i(4)},title:"Sort",children:(0,N.jsxs)("div",{className:p,children:[(0,N.jsx)("span",{children:"Amount"}),(0,N.jsx)("svg",{className:j,width:"20px",height:"20px",children:(0,N.jsx)("use",{href:"".concat(g.Z,"#icon-sort")})})]})}),(0,N.jsx)("th",{children:"Options"})]})}),(0,N.jsx)("tbody",{children:n.map((function(e){return(0,N.jsxs)("tr",{children:[(0,N.jsx)("td",{children:(c=e.date,new Date(c).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}))}),(0,N.jsx)("td",{children:e.type}),(0,N.jsx)("td",{children:e.category}),(0,N.jsx)("td",{children:e.comment}),(0,N.jsx)("td",{className:(n=e.type,"Income"===n?v:"Expense"===n?y:""),children:e.sum}),(0,N.jsxs)("td",{children:[(0,N.jsx)("svg",{className:b,width:"20px",height:"20px",onClick:function(){return t(e)},children:(0,N.jsx)("use",{href:"".concat(g.Z,"#icon-pencil2")})}),(0,N.jsx)("svg",{className:b,width:"20px",height:"20px",onClick:function(){return n=e._id,void a(n);var n},children:(0,N.jsx)("use",{href:"".concat(g.Z,"#icon-bin")})})]})]},e._id);var n,c}))})]})})},T=a(8357),E=a(9874),M=a(112),A=a(1413),w=a(5861),S=a(4687),Z=a.n(S),C=a(8007),I=a(1799),B=a.n(I),F=a(9085),D=(a(1778),a(5705)),q=a(6234),P=a(9222),L={modal:"ModalAddTransaction_modal__92Wan",modal__close:"ModalAddTransaction_modal__close__2oFKS",modal__title:"ModalAddTransaction_modal__title__lkrl8",form__label:"ModalAddTransaction_form__label__pL9sF",form__checkbox_container:"ModalAddTransaction_form__checkbox_container__Ewtgx",form__checkbox_label:"ModalAddTransaction_form__checkbox_label__fP5ud",form__checkbox_label_expense:"ModalAddTransaction_form__checkbox_label_expense__Pkkrh",form__checkbox_label_income:"ModalAddTransaction_form__checkbox_label_income__1jimB",form__checkbox_input:"ModalAddTransaction_form__checkbox_input__mqlbb",form__checkbox_custom:"ModalAddTransaction_form__checkbox_custom__TZ4ho",form__slider:"ModalAddTransaction_form__slider__UGKmj",form__input:"ModalAddTransaction_form__input__mcnWJ",form__input_flex:"ModalAddTransaction_form__input_flex__JnydG",form__date:"ModalAddTransaction_form__date__7R5ye",form__flex_container:"ModalAddTransaction_form__flex_container__agrkZ",form__category:"ModalAddTransaction_form__category__9vIwc",form__category_active:"ModalAddTransaction_form__category_active__eIpA1",form__btn_container:"ModalAddTransaction_form__btn_container__Lecm6",error_message:"ModalAddTransaction_error_message__J5jVO",modal__overlay:"ModalAddTransaction_modal__overlay__5muZL"},H=a(7380),O=function(e){var n=e.addTransaction,a={type:!1,sum:"",category:"",date:new Date,comment:""},t=C.Ry().shape({type:C.Z_(),sum:C.Rx().positive("Sum must be a positive number").required("Sum is required"),category:C.Z_().required("Category is required"),date:C.hT().required("Date is required"),comment:C.Z_()}),c=(0,u.I0)(),r=(0,u.v9)(H.IZ),s=(0,u.v9)(M.t6),o=function(){c((0,E._p)(!1))},i=function(){var e=(0,w.Z)(Z().mark((function e(a,t){var c,r,s,i;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.setSubmitting,r=t.resetForm,c(!0),e.prev=2,s={sum:a.sum,date:a.date.toISOString(),type:a.type?"Income":"Expense",category:a.category,comment:a.comment},console.log(s.date),e.next=7,q.$.post("/transactions",s);case 7:201===(i=e.sent).status?(console.log("Transaction added successfully!",i.data),n(i.data),F.Am.success("Transaction added successfully!")):F.Am.error("Error adding transaction. Please try again."),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.error("Error adding transaction:",e.t0),F.Am.error("Error adding transaction. Please try again.");case 15:return e.prev=15,c(!1),r(),o(),e.finish(15);case 20:case"end":return e.stop()}}),e,null,[[2,11,15,20]])})));return function(n,a){return e.apply(this,arguments)}}();return r?(0,N.jsx)("div",{className:L.modal__overlay,children:(0,N.jsxs)("div",{className:L.modal,children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("h5",{className:L.modal__title,children:"Add Transaction"}),(0,N.jsx)("button",{type:"button",className:L.modal__close,onClick:o,children:(0,N.jsx)("svg",{width:"16px",height:"16px",children:(0,N.jsx)("use",{href:"".concat(g.Z,"#icon-close")})})})]}),(0,N.jsx)("div",{children:(0,N.jsx)(D.J9,{initialValues:a,onSubmit:i,validationSchema:t,children:function(e){var n=e.isSubmitting,t=e.handleSubmit,c=e.setFieldValue,r=e.values,i=e.setValues,l=e.setErrors;return(0,N.jsxs)(D.l0,{onSubmit:t,children:[(0,N.jsx)("div",{className:L.form__checkbox_container,children:(0,N.jsxs)("label",{className:L.form__checkbox_label,children:[(0,N.jsx)("span",{htmlFor:"type",className:"".concat(L.form__checkbox_label," ").concat(!0===r.type?L.form__checkbox_label_income:null),children:"Income"}),(0,N.jsx)(D.gN,{type:"checkbox",name:"type",id:"type",onClick:function(){i((0,A.Z)((0,A.Z)({},a),{},{type:r.type})),l({})},className:L.form__checkbox_input}),(0,N.jsx)("div",{className:L.form__checkbox_custom,children:(0,N.jsx)("div",{className:L.form__slider,children:!1===r.type?"-":"+"})}),(0,N.jsx)("span",{htmlFor:"type",className:"".concat(L.form__checkbox_label," ").concat(!1===r.type?L.form__checkbox_label_expense:null),children:"Expense"})]})}),(0,N.jsxs)("div",{className:L.form__flex_container,children:[(0,N.jsx)("div",{className:L.form__input,children:(0,N.jsxs)("label",{children:[(0,N.jsxs)(D.gN,{as:"select",name:"category",className:"".concat(L.form__category," ").concat(""!==r.category?L.form__category_active:null),children:[(0,N.jsx)("option",{hidden:!0,value:"",children:"Select a category"}),s.filter((function(e){return!0===r.type?"Income"===e.type:"Expense"===e.type})).map((function(e){return(0,N.jsx)("option",{value:e._id,children:e.name},e._id)}))]}),(0,N.jsx)(D.Bc,{name:"category",component:"div"})]})}),(0,N.jsxs)("div",{className:L.form__input_flex,children:[(0,N.jsxs)("label",{children:[(0,N.jsx)(D.gN,{type:"number",name:"sum",placeholder:"0.00",className:L.form__input}),(0,N.jsx)(D.Bc,{name:"sum",component:"div"})]}),(0,N.jsxs)("label",{children:[(0,N.jsx)(B(),{value:r.date,onChange:function(e){return c("date",e)},className:"".concat(L.form__input," ").concat(L.form__date),dateFormat:"YYYY-MM-DD",timeFormat:!1}),(0,N.jsx)("span",{className:L.form__date_icon}),(0,N.jsx)(D.Bc,{name:"date",component:"div"})]})]}),(0,N.jsx)("div",{className:L.form__input,children:(0,N.jsx)("label",{children:(0,N.jsx)(D.gN,{as:"input",type:"text",name:"comment",placeholder:"Comment",className:L.form__input})})})]}),(0,N.jsxs)("div",{className:L.form__btn_container,children:[(0,N.jsx)(P.zx,{type:"submit",theme:"color",disabled:n,children:"Add"}),(0,N.jsx)(P.zx,{type:"button",theme:"white",onClick:o,children:"Cancel"})]})]})}})})]})}):null},V={modal:"ModalEditTransaction_modal__aESX1",modal__close:"ModalEditTransaction_modal__close__OWdVa",modal__title:"ModalEditTransaction_modal__title__Lmmva",form__label:"ModalEditTransaction_form__label__ZJHe-",form__checkbox_container:"ModalEditTransaction_form__checkbox_container__fl6ho",form__checkbox_label:"ModalEditTransaction_form__checkbox_label__o8IC2",form__checkbox_label_expense:"ModalEditTransaction_form__checkbox_label_expense__BFrlP",form__checkbox_label_income:"ModalEditTransaction_form__checkbox_label_income__hOXJt",form__checkbox_input:"ModalEditTransaction_form__checkbox_input__uiOCB",form__checkbox_custom:"ModalEditTransaction_form__checkbox_custom__3KD4B",form__slider:"ModalEditTransaction_form__slider__TPwSP",form__input:"ModalEditTransaction_form__input__c6Cb5",form__input_flex:"ModalEditTransaction_form__input_flex__Px3k1",form__date:"ModalEditTransaction_form__date__-TvAf",form__flex_container:"ModalEditTransaction_form__flex_container__T308u",form__category:"ModalEditTransaction_form__category__MvXDV",form__category_active:"ModalEditTransaction_form__category_active__GbP68",form__btn_container:"ModalEditTransaction_form__btn_container__OXqrQ",error_message:"ModalEditTransaction_error_message__kKrvE",modal__overlay:"ModalEditTransaction_modal__overlay__7b9Pt"},Y=function(e){var n=e.editedTransaction,a=e.updateTransactionList,t={type:!!n&&"Income"===n.type,sum:n?n.sum:"",category:n?n.category:"",date:n?new Date(n.date):new Date,comment:n?n.comment:""},c=C.Ry().shape({type:C.Z_(),sum:C.Rx().typeError("Amount must be a number").required("Amount is required").positive("Amount must be a positive number"),date:C.hT().required("Date is required"),category:C.Z_().required("Category is required"),comment:C.Z_()}),r=(0,u.I0)(),s=(0,u.v9)(H.Io),o=(0,u.v9)(M.t6),i=function(){r((0,E.Lj)(!1))},l=function(){var e=(0,w.Z)(Z().mark((function e(t,c){var r,s,o,l,_;return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.setSubmitting,s=c.resetForm,o=c.setErrors,console.log("Aktualnie edytowana transakcja:",n),e.prev=2,l={sum:t.sum,date:t.date.toISOString().split("T")[0],type:t.type?"Income":"Expense",category:t.category,comment:t.comment},console.log("Wysy\u0142anie danych do API:","/transactions/".concat(n._id),l),e.next=7,q.$.patch("/transactions/".concat(n._id),l);case 7:_=e.sent,console.log("Odpowied\u017a z serwera:",_.data),200===_.status?(a(_.data),i(),F.Am.success("Transaction updated successfully!")):F.Am.error("Error updating transaction. Please try again."),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(2),console.error("Error:",e.t0),o({submit:e.t0.message}),F.Am.error("Error processing transaction. Please try again.");case 17:return e.prev=17,r(!1),s(),e.finish(17);case 21:case"end":return e.stop()}}),e,null,[[2,12,17,21]])})));return function(n,a){return e.apply(this,arguments)}}();return s?(0,N.jsx)("div",{className:V.modal__overlay,children:(0,N.jsxs)("div",{className:V.modal,children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("h5",{className:V.modal__title,children:"Edit Transaction"}),(0,N.jsx)("button",{type:"button",className:V.modal__close,onClick:i,children:(0,N.jsx)("svg",{width:"16px",height:"16px",children:(0,N.jsx)("use",{href:"".concat(g.Z,"#icon-close")})})})]}),(0,N.jsx)("div",{children:(0,N.jsx)(D.J9,{initialValues:t,onSubmit:l,validationSchema:c,children:function(e){var n=e.isSubmitting,a=e.handleSubmit,c=e.setFieldValue,r=e.values,s=e.setValues,l=e.setErrors;return(0,N.jsxs)(D.l0,{onSubmit:a,children:[(0,N.jsx)("div",{className:V.form__checkbox_container,children:(0,N.jsxs)("label",{className:V.form__checkbox_label,children:[(0,N.jsx)("span",{htmlFor:"type",className:"".concat(V.form__checkbox_label," ").concat(!0===r.type?V.form__checkbox_label_income:null),children:"Income"}),(0,N.jsx)(D.gN,{type:"checkbox",name:"type",id:"type",onClick:function(){s((0,A.Z)((0,A.Z)({},t),{},{type:r.type})),l({})},className:V.form__checkbox_input}),(0,N.jsx)("div",{className:V.form__checkbox_custom,children:(0,N.jsx)("div",{className:V.form__slider,children:!1===r.type?"-":"+"})}),(0,N.jsx)("span",{htmlFor:"type",className:"".concat(V.form__checkbox_label," ").concat(!1===r.type?V.form__checkbox_label_expense:null),children:"Expense"})]})}),(0,N.jsxs)("div",{className:V.form__flex_container,children:[(0,N.jsx)("div",{className:V.form__input,children:(0,N.jsxs)("label",{children:[(0,N.jsxs)(D.gN,{as:"select",name:"category",className:"".concat(V.form__category," ").concat(""!==r.category?V.form__category_active:null),children:[(0,N.jsx)("option",{hidden:!0,value:"",children:"Select a category"}),o.filter((function(e){return!0===r.type?"Income"===e.type:"Expense"===e.type})).map((function(e){return(0,N.jsx)("option",{value:e._id,children:e.name},e._id)}))]}),(0,N.jsx)(D.Bc,{name:"category",component:"div"})]})}),(0,N.jsxs)("div",{className:V.form__input_flex,children:[(0,N.jsxs)("label",{children:[(0,N.jsx)(D.gN,{type:"number",name:"sum",placeholder:"0.00",className:V.form__input}),(0,N.jsx)(D.Bc,{name:"sum",component:"div"})]}),(0,N.jsxs)("label",{children:[(0,N.jsx)(B(),{value:r.date,onChange:function(e){return c("date",e)},className:"".concat(V.form__input," ").concat(V.form__date),dateFormat:"YYYY-MM-DD",timeFormat:!1}),(0,N.jsx)("span",{className:V.form__date_icon}),(0,N.jsx)(D.Bc,{name:"date",component:"div"})]})]}),(0,N.jsx)("div",{className:V.form__input,children:(0,N.jsx)("label",{children:(0,N.jsx)(D.gN,{as:"input",type:"text",name:"comment",placeholder:"Comment",className:V.form__input})})})]}),(0,N.jsxs)("div",{className:V.form__btn_container,children:[(0,N.jsx)(P.zx,{type:"submit",theme:"color",disabled:n,children:"Edit"}),(0,N.jsx)(P.zx,{type:"button",theme:"white",onClick:i,children:"Cancel"})]})]})}})})]})}):null},z=function(){var e=(0,u.I0)(),n=(0,u.v9)(M.ig),a=(0,m.useState)(!1),t=(0,d.Z)(a,2),c=t[0],r=t[1],s=(0,m.useState)(null),o=(0,d.Z)(s,2),i=o[0],l=o[1];(0,m.useEffect)((function(){e((0,T.f1)())}),[e,c]);return(0,N.jsxs)("div",{children:[(0,N.jsx)(O,{addTransaction:function(n){e((0,T.dT)(n)).then((function(){r((function(e){return!e}))})).catch((function(e){console.error("Error while adding the transaction:",e)}))}}),(0,N.jsx)(Y,{editedTransaction:i,updateTransactionList:T.Ld}),(0,N.jsx)(k,{transactions:n,onDelete:function(n){e((0,T.Ks)(n)).then((function(){e((0,T.f1)())})).catch((function(e){console.error("Error while deleting the transaction:",e)}))},onEdit:function(n){l(n),e((0,E.Lj)(!0))}})]})},J="ButtonAddTransactions_add_transaction_btn__DAp3y",R=function(){var e=(0,u.I0)();return(0,N.jsx)("button",{onClick:function(){e((0,E._p)(!0))},className:J,children:"+"})},X=a(4270),K=function(){return(0,N.jsxs)("div",{className:t,children:[(0,N.jsx)(X.q,{children:(0,N.jsx)("title",{children:"Home"})}),(0,N.jsxs)("section",{className:c,children:[(0,N.jsxs)("div",{className:r,children:[(0,N.jsxs)("div",{className:s,children:[(0,N.jsx)(_.Z,{}),(0,N.jsx)(l.y,{}),(0,N.jsx)(i.w,{})]}),(0,N.jsx)("div",{className:o,children:(0,N.jsx)(z,{})})]}),(0,N.jsx)(R,{})]})]})}}}]);
//# sourceMappingURL=839.cc79178f.chunk.js.map